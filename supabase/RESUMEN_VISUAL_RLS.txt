```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                      â•‘
â•‘           ğŸ”’ POLÃTICAS RLS - CONFIGURACIÃ“N DEFINITIVA               â•‘
â•‘                                                                      â•‘
â•‘                    VersiÃ³n 1.0 - 15 Enero 2026                      â•‘
â•‘                   âœ… Probado y funcionando                          â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ“Š RESUMEN                                                          â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  â€¢ ReducciÃ³n:  40+ polÃ­ticas â†’ 11 polÃ­ticas (-72%)                  â•‘
â•‘  â€¢ Tablas sin RLS:  10 (contenido pÃºblico/admin)                    â•‘
â•‘  â€¢ Tablas con RLS:   8 (datos personales)                           â•‘
â•‘  â€¢ Errores eliminados:  403, 406, 500                               â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ”“ TABLAS SIN RLS (10)                                              â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  âœ“ courses                    âœ“ blog_posts                          â•‘
â•‘  âœ“ course_lessons             âœ“ blog_categories                     â•‘
â•‘  âœ“ course_modules             âœ“ blog_tags                           â•‘
â•‘  âœ“ course_resources           âœ“ blog_post_tags                      â•‘
â•‘  âœ“ module_tests               âœ“ badges                              â•‘
â•‘                                                                      â•‘
â•‘  RazÃ³n: Contenido pÃºblico + Admin protegido por app                 â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ”’ TABLAS CON RLS (8)                                               â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  âœ“ user_lesson_progress (1 polÃ­tica)                                â•‘
â•‘  âœ“ user_course_progress (1 polÃ­tica)                                â•‘
â•‘  âœ“ course_purchases (1 polÃ­tica)                                    â•‘
â•‘  âœ“ user_test_attempts (1 polÃ­tica)                                  â•‘
â•‘  âœ“ user_badges (2 polÃ­ticas)                                        â•‘
â•‘  âœ“ user_roles (1 polÃ­tica)                                          â•‘
â•‘  âœ“ blog_comments (2 polÃ­ticas)                                      â•‘
â•‘  âœ“ contacts (1 polÃ­tica)                                            â•‘
â•‘                                                                      â•‘
â•‘  RazÃ³n: Datos personales - Usuario solo ve lo suyo                  â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  âœ… RESULTADOS                                                       â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  âœ“ Usuario logueado ve sus cursos comprados                         â•‘
â•‘  âœ“ Admin edita/borra cursos sin restricciones                       â•‘
â•‘  âœ“ JOINs funcionan correctamente                                    â•‘
â•‘  âœ“ Usuario NO ve datos de otro usuario                              â•‘
â•‘  âœ“ Sin errores 403, 406 o 500                                       â•‘
â•‘  âœ“ Rendimiento mejorado (menos checks)                              â•‘
â•‘  âœ“ CÃ³digo mÃ¡s simple y mantenible                                   â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ“ DOCUMENTACIÃ“N                                                    â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  ğŸ“„ supabase/POLITICAS_RLS_DEFINITIVAS.sql                          â•‘
â•‘     â†’ Script SQL completo con comentarios                           â•‘
â•‘                                                                      â•‘
â•‘  ğŸ“– supabase/POLITICAS_RLS_EXPLICADAS.md                            â•‘
â•‘     â†’ GuÃ­a detallada con casos de uso                               â•‘
â•‘                                                                      â•‘
â•‘  ğŸ“‹ supabase/REFERENCIA_RAPIDA_RLS.md                               â•‘
â•‘     â†’ Comandos rÃ¡pidos y troubleshooting                            â•‘
â•‘                                                                      â•‘
â•‘  ğŸ“ docs/POLITICAS_RLS_RESUMEN.md                                   â•‘
â•‘     â†’ Resumen ejecutivo                                             â•‘
â•‘                                                                      â•‘
â•‘  ğŸ“š supabase/README.md                                              â•‘
â•‘     â†’ SecciÃ³n de seguridad actualizada                              â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸš€ APLICAR CONFIGURACIÃ“N                                            â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  1. Ve a Supabase Dashboard â†’ SQL Editor                            â•‘
â•‘  2. New Query                                                       â•‘
â•‘  3. Copia POLITICAS_RLS_DEFINITIVAS.sql                             â•‘
â•‘  4. Run (Ctrl+Enter)                                                â•‘
â•‘  5. Verifica resultado al final                                     â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ” VERIFICAR ESTADO                                                 â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  SELECT tablename,                                                  â•‘
â•‘    CASE WHEN rowsecurity THEN 'ğŸ”’' ELSE 'ğŸ”“' END as rls             â•‘
â•‘  FROM pg_tables                                                     â•‘
â•‘  WHERE schemaname = 'public'                                        â•‘
â•‘  ORDER BY rowsecurity DESC, tablename;                              â•‘
â•‘                                                                      â•‘
â•‘  Resultado esperado:                                                â•‘
â•‘  â€¢ 10 tablas con ğŸ”“ (sin RLS)                                       â•‘
â•‘  â€¢ 8 tablas con ğŸ”’ (con RLS)                                        â•‘
â•‘  â€¢ Total de 11 polÃ­ticas activas                                    â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ¯ FILOSOFÃA                                                        â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  1. RLS solo donde realmente importa (datos personales)             â•‘
â•‘  2. Simplicidad ante todo (menos polÃ­ticas = menos problemas)       â•‘
â•‘  3. Seguridad en capas (autenticaciÃ³n app + RLS en BD)              â•‘
â•‘  4. Contenido pÃºblico sin restricciones innecesarias                â•‘
â•‘                                                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                      â•‘
â•‘  ğŸ”‘ REGLAS DE ORO                                                    â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â•‘
â•‘                                                                      â•‘
â•‘  â€¢ Contenido pÃºblico â†’ SIN RLS                                      â•‘
â•‘  â€¢ Datos personales â†’ CON RLS                                       â•‘
â•‘  â€¢ Duda â†’ Ver POLITICAS_RLS_EXPLICADAS.md                           â•‘
â•‘  â€¢ Problema â†’ Ejecutar script completo de nuevo                     â•‘
â•‘                                                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

**Proyecto:** Hakadogs - EducaciÃ³n Canina Profesional  
**Ãšltima actualizaciÃ³n:** 15 Enero 2026  
**Estado:** âœ… En producciÃ³n
